var Te=t=>{throw TypeError(t)};var ee=(t,e,n)=>e.has(t)||Te("Cannot "+n);var g=(t,e,n)=>(ee(t,e,"read from private field"),n?n.call(t):e.get(t)),I=(t,e,n)=>e.has(t)?Te("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),k=(t,e,n,r)=>(ee(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),M=(t,e,n)=>(ee(t,e,"access private method"),n);import{S as fn,p as Oe,r as K,s as Ut,a as Dt,n as Bn,i as ie,b as De,t as Un,f as zn,c as Qn,d as Le,e as Yt,h as Pe,g as qn,j as S,u as _e,k as f}from"./index-B6awCz3h.js";var P,j,Rt,O,lt,xt,rt,V,Mt,gt,yt,ct,ut,it,mt,A,_t,se,ae,oe,le,ce,ue,he,dn,un,Xn=(un=class extends fn{constructor(e,n){super();I(this,A);I(this,P);I(this,j);I(this,Rt);I(this,O);I(this,lt);I(this,xt);I(this,rt);I(this,V);I(this,Mt);I(this,gt);I(this,yt);I(this,ct);I(this,ut);I(this,it);I(this,mt,new Set);this.options=n,k(this,P,e),k(this,V,null),k(this,rt,Oe()),this.options.experimental_prefetchInRender||g(this,rt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,j).addObserver(this),He(g(this,j),this.options)?M(this,A,_t).call(this):this.updateResult(),M(this,A,le).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fe(g(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fe(g(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,M(this,A,ce).call(this),M(this,A,ue).call(this),g(this,j).removeObserver(this)}setOptions(e){const n=this.options,r=g(this,j);if(this.options=g(this,P).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof K(this.options.enabled,g(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");M(this,A,he).call(this),g(this,j).setOptions(this.options),n._defaulted&&!Ut(this.options,n)&&g(this,P).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,j),observer:this});const i=this.hasListeners();i&&Be(g(this,j),r,this.options,n)&&M(this,A,_t).call(this),this.updateResult(),i&&(g(this,j)!==r||K(this.options.enabled,g(this,j))!==K(n.enabled,g(this,j))||Dt(this.options.staleTime,g(this,j))!==Dt(n.staleTime,g(this,j)))&&M(this,A,se).call(this);const s=M(this,A,ae).call(this);i&&(g(this,j)!==r||K(this.options.enabled,g(this,j))!==K(n.enabled,g(this,j))||s!==g(this,it))&&M(this,A,oe).call(this,s)}getOptimisticResult(e){const n=g(this,P).getQueryCache().build(g(this,P),e),r=this.createResult(n,e);return Kn(this,r)&&(k(this,O,r),k(this,xt,this.options),k(this,lt,g(this,j).state)),r}getCurrentResult(){return g(this,O)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){g(this,mt).add(e)}getCurrentQuery(){return g(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=g(this,P).defaultQueryOptions(e),r=g(this,P).getQueryCache().build(g(this,P),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return M(this,A,_t).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,O)))}createResult(e,n){var C;const r=g(this,j),i=this.options,s=g(this,O),a=g(this,lt),o=g(this,xt),l=e!==r?e.state:g(this,Rt),{state:u}=e;let h={...u},x=!1,p;if(n._optimisticResults){const R=this.hasListeners(),E=!R&&He(e,n),$=R&&Be(e,r,n,i);(E||$)&&(h={...h,...Qn(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:d,status:m}=h;if(n.select&&h.data!==void 0)if(s&&h.data===(a==null?void 0:a.data)&&n.select===g(this,Mt))p=g(this,gt);else try{k(this,Mt,n.select),p=n.select(h.data),p=Le(s==null?void 0:s.data,p,n),k(this,gt,p),k(this,V,null)}catch(R){k(this,V,R)}else p=h.data;if(n.placeholderData!==void 0&&p===void 0&&m==="pending"){let R;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))R=s.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData((C=g(this,yt))==null?void 0:C.state.data,g(this,yt)):n.placeholderData,n.select&&R!==void 0)try{R=n.select(R),k(this,V,null)}catch(E){k(this,V,E)}R!==void 0&&(m="success",p=Le(s==null?void 0:s.data,R,n),x=!0)}g(this,V)&&(v=g(this,V),p=g(this,gt),d=Date.now(),m="error");const y=h.fetchStatus==="fetching",b=m==="pending",N=m==="error",_=b&&y,F=p!==void 0,w={status:m,fetchStatus:h.fetchStatus,isPending:b,isSuccess:m==="success",isError:N,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:d,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:N&&!F,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&F,isStale:Ne(e,n),refetch:this.refetch,promise:g(this,rt)};if(this.options.experimental_prefetchInRender){const R=T=>{w.status==="error"?T.reject(w.error):w.data!==void 0&&T.resolve(w.data)},E=()=>{const T=k(this,rt,w.promise=Oe());R(T)},$=g(this,rt);switch($.status){case"pending":e.queryHash===r.queryHash&&R($);break;case"fulfilled":(w.status==="error"||w.data!==$.value)&&E();break;case"rejected":(w.status!=="error"||w.error!==$.reason)&&E();break}}return w}updateResult(){const e=g(this,O),n=this.createResult(g(this,j),this.options);if(k(this,lt,g(this,j).state),k(this,xt,this.options),g(this,lt).data!==void 0&&k(this,yt,g(this,j)),Ut(n,e))return;k(this,O,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!g(this,mt).size)return!0;const a=new Set(s??g(this,mt));return this.options.throwOnError&&a.add("error"),Object.keys(g(this,O)).some(o=>{const c=o;return g(this,O)[c]!==e[c]&&a.has(c)})};M(this,A,dn).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&M(this,A,le).call(this)}},P=new WeakMap,j=new WeakMap,Rt=new WeakMap,O=new WeakMap,lt=new WeakMap,xt=new WeakMap,rt=new WeakMap,V=new WeakMap,Mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,ct=new WeakMap,ut=new WeakMap,it=new WeakMap,mt=new WeakMap,A=new WeakSet,_t=function(e){M(this,A,he).call(this);let n=g(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Bn)),n},se=function(){M(this,A,ce).call(this);const e=Dt(this.options.staleTime,g(this,j));if(ie||g(this,O).isStale||!De(e))return;const r=Un(g(this,O).dataUpdatedAt,e)+1;k(this,ct,setTimeout(()=>{g(this,O).isStale||this.updateResult()},r))},ae=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,j)):this.options.refetchInterval)??!1},oe=function(e){M(this,A,ue).call(this),k(this,it,e),!(ie||K(this.options.enabled,g(this,j))===!1||!De(g(this,it))||g(this,it)===0)&&k(this,ut,setInterval(()=>{(this.options.refetchIntervalInBackground||zn.isFocused())&&M(this,A,_t).call(this)},g(this,it)))},le=function(){M(this,A,se).call(this),M(this,A,oe).call(this,M(this,A,ae).call(this))},ce=function(){g(this,ct)&&(clearTimeout(g(this,ct)),k(this,ct,void 0))},ue=function(){g(this,ut)&&(clearInterval(g(this,ut)),k(this,ut,void 0))},he=function(){const e=g(this,P).getQueryCache().build(g(this,P),this.options);if(e===g(this,j))return;const n=g(this,j);k(this,j,e),k(this,Rt,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},dn=function(e){Yt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(g(this,O))}),g(this,P).getQueryCache().notify({query:g(this,j),type:"observerResultsUpdated"})})},un);function Vn(t,e){return K(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function He(t,e){return Vn(t,e)||t.state.data!==void 0&&fe(t,e,e.refetchOnMount)}function fe(t,e,n){if(K(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ne(t,e)}return!1}function Be(t,e,n,r){return(t!==e||K(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ne(t,n)}function Ne(t,e){return K(e.enabled,t)!==!1&&t.isStaleByTime(Dt(e.staleTime,t))}function Kn(t,e){return!Ut(t.getCurrentResult(),e)}var st,at,H,Z,tt,Lt,de,hn,Yn=(hn=class extends fn{constructor(e,n){super();I(this,tt);I(this,st);I(this,at);I(this,H);I(this,Z);k(this,st,e),this.setOptions(n),this.bindMethods(),M(this,tt,Lt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=g(this,st).defaultMutationOptions(e),Ut(this.options,n)||g(this,st).getMutationCache().notify({type:"observerOptionsUpdated",mutation:g(this,H),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Pe(n.mutationKey)!==Pe(this.options.mutationKey)?this.reset():((r=g(this,H))==null?void 0:r.state.status)==="pending"&&g(this,H).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=g(this,H))==null||e.removeObserver(this)}onMutationUpdate(e){M(this,tt,Lt).call(this),M(this,tt,de).call(this,e)}getCurrentResult(){return g(this,at)}reset(){var e;(e=g(this,H))==null||e.removeObserver(this),k(this,H,void 0),M(this,tt,Lt).call(this),M(this,tt,de).call(this)}mutate(e,n){var r;return k(this,Z,n),(r=g(this,H))==null||r.removeObserver(this),k(this,H,g(this,st).getMutationCache().build(g(this,st),this.options)),g(this,H).addObserver(this),g(this,H).execute(e)}},st=new WeakMap,at=new WeakMap,H=new WeakMap,Z=new WeakMap,tt=new WeakSet,Lt=function(){var n;const e=((n=g(this,H))==null?void 0:n.state)??qn();k(this,at,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},de=function(e){Yt.batch(()=>{var n,r,i,s,a,o,c,l;if(g(this,Z)&&this.hasListeners()){const u=g(this,at).variables,h=g(this,at).context;(e==null?void 0:e.type)==="success"?((r=(n=g(this,Z)).onSuccess)==null||r.call(n,e.data,u,h),(s=(i=g(this,Z)).onSettled)==null||s.call(i,e.data,null,u,h)):(e==null?void 0:e.type)==="error"&&((o=(a=g(this,Z)).onError)==null||o.call(a,e.error,u,h),(l=(c=g(this,Z)).onSettled)==null||l.call(c,void 0,e.error,u,h))}this.listeners.forEach(u=>{u(g(this,at))})})},hn),pn=S.createContext(!1),Wn=()=>S.useContext(pn);pn.Provider;function Gn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Jn=S.createContext(Gn()),Zn=()=>S.useContext(Jn);function xn(t,e){return typeof t=="function"?t(...e):!!t}function pe(){}var tr=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},er=t=>{S.useEffect(()=>{t.clearReset()},[t])},nr=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||xn(n,[t.error,r])),rr=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},ir=(t,e)=>t.isLoading&&t.isFetching&&!e,sr=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ue=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ar(t,e,n){var h,x,p,v,d;const r=_e(),i=Wn(),s=Zn(),a=r.defaultQueryOptions(t);(x=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||x.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",rr(a),tr(a,s),er(s);const o=!r.getQueryCache().get(a.queryHash),[c]=S.useState(()=>new e(r,a)),l=c.getOptimisticResult(a),u=!i&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(m=>{const y=u?c.subscribe(Yt.batchCalls(m)):pe;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(a)},[a,c]),sr(a,l))throw Ue(a,c,s);if(nr({result:l,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw l.error;if((v=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,a,l),a.experimental_prefetchInRender&&!ie&&ir(l,i)){const m=o?Ue(a,c,s):(d=r.getQueryCache().get(a.queryHash))==null?void 0:d.promise;m==null||m.catch(pe).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?l:c.trackResult(l)}function Wt(t,e){return ar(t,Xn)}function ze(t,e){const n=_e(),[r]=S.useState(()=>new Yn(n,t));S.useEffect(()=>{r.setOptions(t)},[r,t]);const i=S.useSyncExternalStore(S.useCallback(a=>r.subscribe(Yt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=S.useCallback((a,o)=>{r.mutate(a,o).catch(pe)},[r]);if(i.error&&xn(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var or={value:()=>{}};function Ce(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Pt(n)}function Pt(t){this._=t}function lr(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Pt.prototype=Ce.prototype={constructor:Pt,on:function(t,e){var n=this._,r=lr(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=cr(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Qe(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Qe(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function cr(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Qe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=or,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var xe="http://www.w3.org/1999/xhtml";const qe={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qe.hasOwnProperty(e)?{space:qe[e],local:t}:t}function ur(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xe&&e.documentElement.namespaceURI===xe?e.createElement(t):e.createElementNS(n,t)}}function hr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gn(t){var e=Gt(t);return(e.local?hr:ur)(e)}function fr(){}function je(t){return t==null?fr:function(){return this.querySelector(t)}}function dr(t){typeof t!="function"&&(t=je(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),c,l,u=0;u<a;++u)(c=s[u])&&(l=t.call(c,c.__data__,u,s))&&("__data__"in c&&(l.__data__=c.__data__),o[u]=l);return new q(r,this._parents)}function pr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xr(){return[]}function yn(t){return t==null?xr:function(){return this.querySelectorAll(t)}}function gr(t){return function(){return pr(t.apply(this,arguments))}}function yr(t){typeof t=="function"?t=gr(t):t=yn(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,c,l=0;l<o;++l)(c=a[l])&&(r.push(t.call(c,c.__data__,l,a)),i.push(c));return new q(r,i)}function mn(t){return function(){return this.matches(t)}}function vn(t){return function(e){return e.matches(t)}}var mr=Array.prototype.find;function vr(t){return function(){return mr.call(this.children,t)}}function br(){return this.firstElementChild}function wr(t){return this.select(t==null?br:vr(typeof t=="function"?t:vn(t)))}var _r=Array.prototype.filter;function Nr(){return Array.from(this.children)}function Cr(t){return function(){return _r.call(this.children,t)}}function jr(t){return this.selectAll(t==null?Nr:Cr(typeof t=="function"?t:vn(t)))}function Sr(t){typeof t!="function"&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],c,l=0;l<a;++l)(c=s[l])&&t.call(c,c.__data__,l,s)&&o.push(c);return new q(r,this._parents)}function bn(t){return new Array(t.length)}function kr(){return new q(this._enter||this._groups.map(bn),this._parents)}function zt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}zt.prototype={constructor:zt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ar(t){return function(){return t}}function Er(t,e,n,r,i,s){for(var a=0,o,c=e.length,l=s.length;a<l;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new zt(t,s[a]);for(;a<c;++a)(o=e[a])&&(i[a]=o)}function Rr(t,e,n,r,i,s,a){var o,c,l=new Map,u=e.length,h=s.length,x=new Array(u),p;for(o=0;o<u;++o)(c=e[o])&&(x[o]=p=a.call(c,c.__data__,o,e)+"",l.has(p)?i[o]=c:l.set(p,c));for(o=0;o<h;++o)p=a.call(t,s[o],o,s)+"",(c=l.get(p))?(r[o]=c,c.__data__=s[o],l.delete(p)):n[o]=new zt(t,s[o]);for(o=0;o<u;++o)(c=e[o])&&l.get(x[o])===c&&(i[o]=c)}function Mr(t){return t.__data__}function $r(t,e){if(!arguments.length)return Array.from(this,Mr);var n=e?Rr:Er,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ar(t));for(var s=i.length,a=new Array(s),o=new Array(s),c=new Array(s),l=0;l<s;++l){var u=r[l],h=i[l],x=h.length,p=Ir(t.call(u,u&&u.__data__,l,r)),v=p.length,d=o[l]=new Array(v),m=a[l]=new Array(v),y=c[l]=new Array(x);n(u,h,d,m,y,p,e);for(var b=0,N=0,_,F;b<v;++b)if(_=d[b]){for(b>=N&&(N=b+1);!(F=m[N])&&++N<v;);_._next=F||null}}return a=new q(a,r),a._enter=o,a._exit=c,a}function Ir(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fr(){return new q(this._exit||this._groups.map(bn),this._parents)}function Tr(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Or(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),c=0;c<a;++c)for(var l=n[c],u=r[c],h=l.length,x=o[c]=new Array(h),p,v=0;v<h;++v)(p=l[v]||u[v])&&(x[v]=p);for(;c<i;++c)o[c]=n[c];return new q(o,this._parents)}function Dr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Lr(t){t||(t=Pr);function e(h,x){return h&&x?t(h.__data__,x.__data__):!h-!x}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,c=i[s]=new Array(o),l,u=0;u<o;++u)(l=a[u])&&(c[u]=l);c.sort(e)}return new q(i,this._parents).order()}function Pr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Hr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Br(){return Array.from(this)}function Ur(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function zr(){let t=0;for(const e of this)++t;return t}function Qr(){return!this.node()}function qr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function Xr(t){return function(){this.removeAttribute(t)}}function Vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kr(t,e){return function(){this.setAttribute(t,e)}}function Yr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jr(t,e){var n=Gt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vr:Xr:typeof e=="function"?n.local?Gr:Wr:n.local?Yr:Kr)(n,e))}function wn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zr(t){return function(){this.style.removeProperty(t)}}function ti(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ei(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ni(t,e,n){return arguments.length>1?this.each((e==null?Zr:typeof e=="function"?ei:ti)(t,e,n??"")):vt(this.node(),t)}function vt(t,e){return t.style.getPropertyValue(e)||wn(t).getComputedStyle(t,null).getPropertyValue(e)}function ri(t){return function(){delete this[t]}}function ii(t,e){return function(){this[t]=e}}function si(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ai(t,e){return arguments.length>1?this.each((e==null?ri:typeof e=="function"?si:ii)(t,e)):this.node()[t]}function _n(t){return t.trim().split(/^|\s+/)}function Se(t){return t.classList||new Nn(t)}function Nn(t){this._node=t,this._names=_n(t.getAttribute("class")||"")}Nn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Cn(t,e){for(var n=Se(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function jn(t,e){for(var n=Se(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function oi(t){return function(){Cn(this,t)}}function li(t){return function(){jn(this,t)}}function ci(t,e){return function(){(e.apply(this,arguments)?Cn:jn)(this,t)}}function ui(t,e){var n=_n(t+"");if(arguments.length<2){for(var r=Se(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ci:e?oi:li)(n,e))}function hi(){this.textContent=""}function fi(t){return function(){this.textContent=t}}function di(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function pi(t){return arguments.length?this.each(t==null?hi:(typeof t=="function"?di:fi)(t)):this.node().textContent}function xi(){this.innerHTML=""}function gi(t){return function(){this.innerHTML=t}}function yi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function mi(t){return arguments.length?this.each(t==null?xi:(typeof t=="function"?yi:gi)(t)):this.node().innerHTML}function vi(){this.nextSibling&&this.parentNode.appendChild(this)}function bi(){return this.each(vi)}function wi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _i(){return this.each(wi)}function Ni(t){var e=typeof t=="function"?t:gn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ci(){return null}function ji(t,e){var n=typeof t=="function"?t:gn(t),r=e==null?Ci:typeof e=="function"?e:je(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Si(){var t=this.parentNode;t&&t.removeChild(this)}function ki(){return this.each(Si)}function Ai(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ei(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ri(t){return this.select(t?Ei:Ai)}function Mi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $i(t){return function(e){t.call(this,e,this.__data__)}}function Ii(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Fi(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Ti(t,e,n){return function(){var r=this.__on,i,s=$i(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Oi(t,e,n){var r=Ii(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,l=o.length,u;c<l;++c)for(i=0,u=o[c];i<s;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(o=e?Ti:Fi,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function Sn(t,e,n){var r=wn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Di(t,e){return function(){return Sn(this,t,e)}}function Li(t,e){return function(){return Sn(this,t,e.apply(this,arguments))}}function Pi(t,e){return this.each((typeof e=="function"?Li:Di)(t,e))}function*Hi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var Bi=[null];function q(t,e){this._groups=t,this._parents=e}function $t(){return new q([[document.documentElement]],Bi)}function Ui(){return this}q.prototype=$t.prototype={constructor:q,select:dr,selectAll:yr,selectChild:wr,selectChildren:jr,filter:Sr,data:$r,enter:kr,exit:Fr,join:Tr,merge:Or,selection:Ui,order:Dr,sort:Lr,call:Hr,nodes:Br,node:Ur,size:zr,empty:Qr,each:qr,attr:Jr,style:ni,property:ai,classed:ui,text:pi,html:mi,raise:bi,lower:_i,append:Ni,insert:ji,remove:ki,clone:Ri,datum:Mi,on:Oi,dispatch:Pi,[Symbol.iterator]:Hi};function ke(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function It(){}var St=.7,Qt=1/St,pt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zi=/^#([0-9a-f]{3,8})$/,Qi=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),qi=new RegExp(`^rgb\\(${Y},${Y},${Y}\\)$`),Xi=new RegExp(`^rgba\\(${pt},${pt},${pt},${kt}\\)$`),Vi=new RegExp(`^rgba\\(${Y},${Y},${Y},${kt}\\)$`),Ki=new RegExp(`^hsl\\(${kt},${Y},${Y}\\)$`),Yi=new RegExp(`^hsla\\(${kt},${Y},${Y},${kt}\\)$`),Xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ke(It,At,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ve,formatHex:Ve,formatHex8:Wi,formatHsl:Gi,formatRgb:Ke,toString:Ke});function Ve(){return this.rgb().formatHex()}function Wi(){return this.rgb().formatHex8()}function Gi(){return An(this).formatHsl()}function Ke(){return this.rgb().formatRgb()}function At(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ye(e):n===3?new B(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ft(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ft(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qi.exec(t))?new B(e[1],e[2],e[3],1):(e=qi.exec(t))?new B(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xi.exec(t))?Ft(e[1],e[2],e[3],e[4]):(e=Vi.exec(t))?Ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ki.exec(t))?Je(e[1],e[2]/100,e[3]/100,1):(e=Yi.exec(t))?Je(e[1],e[2]/100,e[3]/100,e[4]):Xe.hasOwnProperty(t)?Ye(Xe[t]):t==="transparent"?new B(NaN,NaN,NaN,0):null}function Ye(t){return new B(t>>16&255,t>>8&255,t&255,1)}function Ft(t,e,n,r){return r<=0&&(t=e=n=NaN),new B(t,e,n,r)}function Ji(t){return t instanceof It||(t=At(t)),t?(t=t.rgb(),new B(t.r,t.g,t.b,t.opacity)):new B}function ge(t,e,n,r){return arguments.length===1?Ji(t):new B(t,e,n,r??1)}function B(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ke(B,ge,kn(It,{brighter(t){return t=t==null?Qt:Math.pow(Qt,t),new B(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?St:Math.pow(St,t),new B(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new B(ht(this.r),ht(this.g),ht(this.b),qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:We,formatHex:We,formatHex8:Zi,formatRgb:Ge,toString:Ge}));function We(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}`}function Zi(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}${ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ge(){const t=qt(this.opacity);return`${t===1?"rgb(":"rgba("}${ht(this.r)}, ${ht(this.g)}, ${ht(this.b)}${t===1?")":`, ${t})`}`}function qt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ot(t){return t=ht(t),(t<16?"0":"")+t.toString(16)}function Je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Q(t,e,n,r)}function An(t){if(t instanceof Q)return new Q(t.h,t.s,t.l,t.opacity);if(t instanceof It||(t=At(t)),!t)return new Q;if(t instanceof Q)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Q(a,o,c,t.opacity)}function ts(t,e,n,r){return arguments.length===1?An(t):new Q(t,e,n,r??1)}function Q(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ke(Q,ts,kn(It,{brighter(t){return t=t==null?Qt:Math.pow(Qt,t),new Q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?St:Math.pow(St,t),new Q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new B(ne(t>=240?t-240:t+120,i,r),ne(t,i,r),ne(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Q(Ze(this.h),Tt(this.s),Tt(this.l),qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qt(this.opacity);return`${t===1?"hsl(":"hsla("}${Ze(this.h)}, ${Tt(this.s)*100}%, ${Tt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ze(t){return t=(t||0)%360,t<0?t+360:t}function Tt(t){return Math.max(0,Math.min(1,t||0))}function ne(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const En=t=>()=>t;function es(t,e){return function(n){return t+n*e}}function ns(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function rs(t){return(t=+t)==1?Rn:function(e,n){return n-e?ns(e,n,t):En(isNaN(e)?n:e)}}function Rn(t,e){var n=e-t;return n?es(t,n):En(isNaN(t)?e:t)}const tn=function t(e){var n=rs(e);function r(i,s){var a=n((i=ge(i)).r,(s=ge(s)).r),o=n(i.g,s.g),c=n(i.b,s.b),l=Rn(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r}(1);function nt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ye=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ye.source,"g");function is(t){return function(){return t}}function ss(t){return function(e){return t(e)+""}}function as(t,e){var n=ye.lastIndex=re.lastIndex=0,r,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(r=ye.exec(t))&&(i=re.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:nt(r,i)})),n=re.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?ss(c[0].x):is(e):(e=c.length,function(l){for(var u=0,h;u<e;++u)o[(h=c[u]).i]=h.x(l);return o.join("")})}var en=180/Math.PI,me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mn(t,e,n,r,i,s){var a,o,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*en,skewX:Math.atan(c)*en,scaleX:a,scaleY:o}}var Ot;function os(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?me:Mn(e.a,e.b,e.c,e.d,e.e,e.f)}function ls(t){return t==null||(Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","g")),Ot.setAttribute("transform",t),!(t=Ot.transform.baseVal.consolidate()))?me:(t=t.matrix,Mn(t.a,t.b,t.c,t.d,t.e,t.f))}function $n(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,u,h,x,p,v){if(l!==h||u!==x){var d=p.push("translate(",null,e,null,n);v.push({i:d-4,x:nt(l,h)},{i:d-2,x:nt(u,x)})}else(h||x)&&p.push("translate("+h+e+x+n)}function a(l,u,h,x){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),x.push({i:h.push(i(h)+"rotate(",null,r)-2,x:nt(l,u)})):u&&h.push(i(h)+"rotate("+u+r)}function o(l,u,h,x){l!==u?x.push({i:h.push(i(h)+"skewX(",null,r)-2,x:nt(l,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(l,u,h,x,p,v){if(l!==h||u!==x){var d=p.push(i(p)+"scale(",null,",",null,")");v.push({i:d-4,x:nt(l,h)},{i:d-2,x:nt(u,x)})}else(h!==1||x!==1)&&p.push(i(p)+"scale("+h+","+x+")")}return function(l,u){var h=[],x=[];return l=t(l),u=t(u),s(l.translateX,l.translateY,u.translateX,u.translateY,h,x),a(l.rotate,u.rotate,h,x),o(l.skewX,u.skewX,h,x),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,h,x),l=u=null,function(p){for(var v=-1,d=x.length,m;++v<d;)h[(m=x[v]).i]=m.x(p);return h.join("")}}}var cs=$n(os,"px, ","px)","deg)"),us=$n(ls,", ",")",")"),bt=0,Nt=0,wt=0,In=1e3,Xt,Ct,Vt=0,ft=0,Jt=0,Et=typeof performance=="object"&&performance.now?performance:Date,Fn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ae(){return ft||(Fn(hs),ft=Et.now()+Jt)}function hs(){ft=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=Ee.prototype={constructor:Kt,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ae():+n)+(e==null?0:+e),!this._next&&Ct!==this&&(Ct?Ct._next=this:Xt=this,Ct=this),this._call=t,this._time=n,ve()},stop:function(){this._call&&(this._call=null,this._time=1/0,ve())}};function Ee(t,e,n){var r=new Kt;return r.restart(t,e,n),r}function fs(){Ae(),++bt;for(var t=Xt,e;t;)(e=ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--bt}function nn(){ft=(Vt=Et.now())+Jt,bt=Nt=0;try{fs()}finally{bt=0,ps(),ft=0}}function ds(){var t=Et.now(),e=t-Vt;e>In&&(Jt-=e,Vt=t)}function ps(){for(var t,e=Xt,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xt=n);Ct=t,ve(r)}function ve(t){if(!bt){Nt&&(Nt=clearTimeout(Nt));var e=t-ft;e>24?(t<1/0&&(Nt=setTimeout(nn,t-Et.now()-Jt)),wt&&(wt=clearInterval(wt))):(wt||(Vt=Et.now(),wt=setInterval(ds,In)),bt=1,Fn(nn))}}function rn(t,e,n){var r=new Kt;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var xs=Ce("start","end","cancel","interrupt"),gs=[],Tn=0,sn=1,be=2,Ht=3,an=4,we=5,Bt=6;function Zt(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;ys(t,n,{name:e,index:r,group:i,on:xs,tween:gs,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Tn})}function Re(t,e){var n=X(t,e);if(n.state>Tn)throw new Error("too late; already scheduled");return n}function W(t,e){var n=X(t,e);if(n.state>Ht)throw new Error("too late; already running");return n}function X(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ys(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ee(s,0,n.time);function s(l){n.state=sn,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var u,h,x,p;if(n.state!==sn)return c();for(u in r)if(p=r[u],p.name===n.name){if(p.state===Ht)return rn(a);p.state===an?(p.state=Bt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=Bt,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(rn(function(){n.state===Ht&&(n.state=an,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=be,n.on.call("start",t,t.__data__,n.index,n.group),n.state===be){for(n.state=Ht,i=new Array(x=n.tween.length),u=0,h=-1;u<x;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function o(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=we,1),h=-1,x=i.length;++h<x;)i[h].call(t,u);n.state===we&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Bt,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ms(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>be&&r.state<we,r.state=Bt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function vs(t){return this.each(function(){ms(this,t)})}function bs(t,e){var n,r;return function(){var i=W(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function ws(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=W(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=o;break}c===l&&i.push(o)}s.tween=i}}function _s(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=X(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?bs:ws)(n,t,e))}function Me(t,e,n){var r=t._id;return t.each(function(){var i=W(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return X(i,r).value[e]}}function On(t,e){var n;return(typeof e=="number"?nt:e instanceof At?tn:(n=At(e))?(e=n,tn):as)(t,e)}function Ns(t){return function(){this.removeAttribute(t)}}function Cs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function js(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function Ss(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function ks(t,e,n){var r,i,s;return function(){var a,o=n(this),c;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=o+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,o)))}}function As(t,e,n){var r,i,s;return function(){var a,o=n(this),c;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=o+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,o)))}}function Es(t,e){var n=Gt(t),r=n==="transform"?us:On;return this.attrTween(t,typeof e=="function"?(n.local?As:ks)(n,r,Me(this,"attr."+t,e)):e==null?(n.local?Cs:Ns)(n):(n.local?Ss:js)(n,r,e))}function Rs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ms(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $s(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ms(t,s)),n}return i._value=e,i}function Is(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Rs(t,s)),n}return i._value=e,i}function Fs(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Gt(t);return this.tween(n,(r.local?$s:Is)(r,e))}function Ts(t,e){return function(){Re(this,t).delay=+e.apply(this,arguments)}}function Os(t,e){return e=+e,function(){Re(this,t).delay=e}}function Ds(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ts:Os)(e,t)):X(this.node(),e).delay}function Ls(t,e){return function(){W(this,t).duration=+e.apply(this,arguments)}}function Ps(t,e){return e=+e,function(){W(this,t).duration=e}}function Hs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ls:Ps)(e,t)):X(this.node(),e).duration}function Bs(t,e){if(typeof e!="function")throw new Error;return function(){W(this,t).ease=e}}function Us(t){var e=this._id;return arguments.length?this.each(Bs(e,t)):X(this.node(),e).ease}function zs(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;W(this,t).ease=n}}function Qs(t){if(typeof t!="function")throw new Error;return this.each(zs(this._id,t))}function qs(t){typeof t!="function"&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],c,l=0;l<a;++l)(c=s[l])&&t.call(c,c.__data__,l,s)&&o.push(c);return new et(r,this._parents,this._name,this._id)}function Xs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var c=e[o],l=n[o],u=c.length,h=a[o]=new Array(u),x,p=0;p<u;++p)(x=c[p]||l[p])&&(h[p]=x);for(;o<r;++o)a[o]=e[o];return new et(a,this._parents,this._name,this._id)}function Vs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ks(t,e,n){var r,i,s=Vs(e)?Re:W;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function Ys(t,e){var n=this._id;return arguments.length<2?X(this.node(),n).on.on(t):this.each(Ks(n,t,e))}function Ws(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Gs(){return this.on("end.remove",Ws(this._id))}function Js(t){var e=this._name,n=this._id;typeof t!="function"&&(t=je(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],c=o.length,l=s[a]=new Array(c),u,h,x=0;x<c;++x)(u=o[x])&&(h=t.call(u,u.__data__,x,o))&&("__data__"in u&&(h.__data__=u.__data__),l[x]=h,Zt(l[x],e,n,x,l,X(u,n)));return new et(s,this._parents,e,n)}function Zs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yn(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var c=r[o],l=c.length,u,h=0;h<l;++h)if(u=c[h]){for(var x=t.call(u,u.__data__,h,c),p,v=X(u,n),d=0,m=x.length;d<m;++d)(p=x[d])&&Zt(p,e,n,d,x,v);s.push(x),a.push(u)}return new et(s,a,e,n)}var ta=$t.prototype.constructor;function ea(){return new ta(this._groups,this._parents)}function na(t,e){var n,r,i;return function(){var s=vt(this,t),a=(this.style.removeProperty(t),vt(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Dn(t){return function(){this.style.removeProperty(t)}}function ra(t,e,n){var r,i=n+"",s;return function(){var a=vt(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function ia(t,e,n){var r,i,s;return function(){var a=vt(this,t),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(t),vt(this,t))),a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,o))}}function sa(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var c=W(this,t),l=c.on,u=c.value[s]==null?o||(o=Dn(e)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(a,i=u),c.on=r}}function aa(t,e,n){var r=(t+="")=="transform"?cs:On;return e==null?this.styleTween(t,na(t,r)).on("end.style."+t,Dn(t)):typeof e=="function"?this.styleTween(t,ia(t,r,Me(this,"style."+t,e))).each(sa(this._id,t)):this.styleTween(t,ra(t,r,e),n).on("end.style."+t,null)}function oa(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function la(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&oa(t,a,n)),r}return s._value=e,s}function ca(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,la(t,e,n??""))}function ua(t){return function(){this.textContent=t}}function ha(t){return function(){var e=t(this);this.textContent=e??""}}function fa(t){return this.tween("text",typeof t=="function"?ha(Me(this,"text",t)):ua(t==null?"":t+""))}function da(t){return function(e){this.textContent=t.call(this,e)}}function pa(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&da(i)),e}return r._value=t,r}function xa(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,pa(t))}function ga(){for(var t=this._name,e=this._id,n=Ln(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,c,l=0;l<o;++l)if(c=a[l]){var u=X(c,e);Zt(c,t,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new et(r,this._parents,t,n)}function ya(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var l=W(this,r),u=l.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(c)),l.on=e}),i===0&&s()})}var ma=0;function et(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ln(){return++ma}var J=$t.prototype;et.prototype={constructor:et,select:Js,selectAll:Zs,selectChild:J.selectChild,selectChildren:J.selectChildren,filter:qs,merge:Xs,selection:ea,transition:ga,call:J.call,nodes:J.nodes,node:J.node,size:J.size,empty:J.empty,each:J.each,on:Ys,attr:Es,attrTween:Fs,style:aa,styleTween:ca,text:fa,textTween:xa,remove:Gs,tween:_s,delay:Ds,duration:Hs,ease:Us,easeVarying:Qs,end:ya,[Symbol.iterator]:J[Symbol.iterator]};function va(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ba={time:null,delay:0,duration:250,ease:va};function wa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function _a(t){var e,n;t instanceof et?(e=t._id,t=t._name):(e=Ln(),(n=ba).time=Ae(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,c,l=0;l<o;++l)(c=a[l])&&Zt(c,t,e,l,a,n||wa(c,e));return new et(r,this._parents,t,e)}$t.prototype.interrupt=vs;$t.prototype.transition=_a;function Na(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Pn(this.cover(e,n),e,n,t)}function Pn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,a={data:r},o=t._x0,c=t._y0,l=t._x1,u=t._y1,h,x,p,v,d,m,y,b;if(!s)return t._root=a,t;for(;s.length;)if((d=e>=(h=(o+l)/2))?o=h:l=h,(m=n>=(x=(c+u)/2))?c=x:u=x,i=s,!(s=s[y=m<<1|d]))return i[y]=a,t;if(p=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===p&&n===v)return a.next=s,i?i[y]=a:t._root=a,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(d=e>=(h=(o+l)/2))?o=h:l=h,(m=n>=(x=(c+u)/2))?c=x:u=x;while((y=m<<1|d)===(b=(v>=x)<<1|p>=h));return i[b]=s,i[y]=a,t}function Ca(t){var e,n,r=t.length,i,s,a=new Array(r),o=new Array(r),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(a[n]=i,o[n]=s,i<c&&(c=i),i>u&&(u=i),s<l&&(l=s),s>h&&(h=s));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<r;++n)Pn(this,a[n],o[n],t[n]);return this}function ja(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var a=i-n||1,o=this._root,c,l;n>t||t>=i||r>e||e>=s;)switch(l=(e<r)<<1|t<n,c=new Array(4),c[l]=o,o=c,a*=2,l){case 0:i=n+a,s=r+a;break;case 1:n=i-a,s=r+a;break;case 2:i=n+a,r=s-a;break;case 3:n=i-a,r=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Sa(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function ka(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function D(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Aa(t,e,n){var r,i=this._x0,s=this._y0,a,o,c,l,u=this._x1,h=this._y1,x=[],p=this._root,v,d;for(p&&x.push(new D(p,i,s,u,h)),n==null?n=1/0:(i=t-n,s=e-n,u=t+n,h=e+n,n*=n);v=x.pop();)if(!(!(p=v.node)||(a=v.x0)>u||(o=v.y0)>h||(c=v.x1)<i||(l=v.y1)<s))if(p.length){var m=(a+c)/2,y=(o+l)/2;x.push(new D(p[3],m,y,c,l),new D(p[2],a,y,m,l),new D(p[1],m,o,c,y),new D(p[0],a,o,m,y)),(d=(e>=y)<<1|t>=m)&&(v=x[x.length-1],x[x.length-1]=x[x.length-1-d],x[x.length-1-d]=v)}else{var b=t-+this._x.call(null,p.data),N=e-+this._y.call(null,p.data),_=b*b+N*N;if(_<n){var F=Math.sqrt(n=_);i=t-F,s=e-F,u=t+F,h=e+F,r=p.data}}return r}function Ea(t){if(isNaN(u=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,a=this._x0,o=this._y0,c=this._x1,l=this._y1,u,h,x,p,v,d,m,y;if(!n)return this;if(n.length)for(;;){if((v=u>=(x=(a+c)/2))?a=x:c=x,(d=h>=(p=(o+l)/2))?o=p:l=p,e=n,!(n=n[m=d<<1|v]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(r=e,y=m)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[m]=s:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function Ra(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Ma(){return this._root}function $a(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Ia(t){var e=[],n,r=this._root,i,s,a,o,c;for(r&&e.push(new D(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,a=n.y0,o=n.x1,c=n.y1)&&r.length){var l=(s+o)/2,u=(a+c)/2;(i=r[3])&&e.push(new D(i,l,u,o,c)),(i=r[2])&&e.push(new D(i,s,u,l,c)),(i=r[1])&&e.push(new D(i,l,a,o,u)),(i=r[0])&&e.push(new D(i,s,a,l,u))}return this}function Fa(t){var e=[],n=[],r;for(this._root&&e.push(new D(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,a=r.x0,o=r.y0,c=r.x1,l=r.y1,u=(a+c)/2,h=(o+l)/2;(s=i[0])&&e.push(new D(s,a,o,u,h)),(s=i[1])&&e.push(new D(s,u,o,c,h)),(s=i[2])&&e.push(new D(s,a,h,u,l)),(s=i[3])&&e.push(new D(s,u,h,c,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Ta(t){return t[0]}function Oa(t){return arguments.length?(this._x=t,this):this._x}function Da(t){return t[1]}function La(t){return arguments.length?(this._y=t,this):this._y}function $e(t,e,n){var r=new Ie(e??Ta,n??Da,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Ie(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function on(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var L=$e.prototype=Ie.prototype;L.copy=function(){var t=new Ie(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=on(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=on(r));return t};L.add=Na;L.addAll=Ca;L.cover=ja;L.data=Sa;L.extent=ka;L.find=Aa;L.remove=Ea;L.removeAll=Ra;L.root=Ma;L.size=$a;L.visit=Ia;L.visitAfter=Fa;L.x=Oa;L.y=La;function z(t){return function(){return t}}function dt(t){return(t()-.5)*1e-6}function Pa(t){return t.x+t.vx}function Ha(t){return t.y+t.vy}function Ba(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=z(t==null?1:+t));function a(){for(var l,u=e.length,h,x,p,v,d,m,y=0;y<s;++y)for(h=$e(e,Pa,Ha).visitAfter(o),l=0;l<u;++l)x=e[l],d=n[x.index],m=d*d,p=x.x+x.vx,v=x.y+x.vy,h.visit(b);function b(N,_,F,G,w){var C=N.data,R=N.r,E=d+R;if(C){if(C.index>x.index){var $=p-C.x-C.vx,T=v-C.y-C.vy,U=$*$+T*T;U<E*E&&($===0&&($=dt(r),U+=$*$),T===0&&(T=dt(r),U+=T*T),U=(E-(U=Math.sqrt(U)))/U*i,x.vx+=($*=U)*(E=(R*=R)/(m+R)),x.vy+=(T*=U)*E,C.vx-=$*(E=1-E),C.vy-=T*E)}return}return _>p+E||G<p-E||F>v+E||w<v-E}}function o(l){if(l.data)return l.r=n[l.data.index];for(var u=l.r=0;u<4;++u)l[u]&&l[u].r>l.r&&(l.r=l[u].r)}function c(){if(e){var l,u=e.length,h;for(n=new Array(u),l=0;l<u;++l)h=e[l],n[h.index]=+t(h,l,e)}}return a.initialize=function(l,u){e=l,r=u,c()},a.iterations=function(l){return arguments.length?(s=+l,a):s},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:z(+l),c(),a):t},a}const Ua=1664525,za=1013904223,ln=4294967296;function Qa(){let t=1;return()=>(t=(Ua*t+za)%ln)/ln}function qa(t){return t.x}function Xa(t){return t.y}var Va=10,Ka=Math.PI*(3-Math.sqrt(5));function Ya(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,a=.6,o=new Map,c=Ee(h),l=Ce("tick","end"),u=Qa();t==null&&(t=[]);function h(){x(),l.call("tick",e),n<r&&(c.stop(),l.call("end",e))}function x(d){var m,y=t.length,b;d===void 0&&(d=1);for(var N=0;N<d;++N)for(n+=(s-n)*i,o.forEach(function(_){_(n)}),m=0;m<y;++m)b=t[m],b.fx==null?b.x+=b.vx*=a:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=a:(b.y=b.fy,b.vy=0);return e}function p(){for(var d=0,m=t.length,y;d<m;++d){if(y=t[d],y.index=d,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=Va*Math.sqrt(.5+d),N=d*Ka;y.x=b*Math.cos(N),y.y=b*Math.sin(N)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function v(d){return d.initialize&&d.initialize(t,u),d}return p(),e={tick:x,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(d){return arguments.length?(t=d,p(),o.forEach(v),e):t},alpha:function(d){return arguments.length?(n=+d,e):n},alphaMin:function(d){return arguments.length?(r=+d,e):r},alphaDecay:function(d){return arguments.length?(i=+d,e):+i},alphaTarget:function(d){return arguments.length?(s=+d,e):s},velocityDecay:function(d){return arguments.length?(a=1-d,e):1-a},randomSource:function(d){return arguments.length?(u=d,o.forEach(v),e):u},force:function(d,m){return arguments.length>1?(m==null?o.delete(d):o.set(d,v(m)),e):o.get(d)},find:function(d,m,y){var b=0,N=t.length,_,F,G,w,C;for(y==null?y=1/0:y*=y,b=0;b<N;++b)w=t[b],_=d-w.x,F=m-w.y,G=_*_+F*F,G<y&&(C=w,y=G);return C},on:function(d,m){return arguments.length>1?(l.on(d,m),e):l.on(d)}}}function Wa(){var t,e,n,r,i=z(-30),s,a=1,o=1/0,c=.81;function l(p){var v,d=t.length,m=$e(t,qa,Xa).visitAfter(h);for(r=p,v=0;v<d;++v)e=t[v],m.visit(x)}function u(){if(t){var p,v=t.length,d;for(s=new Array(v),p=0;p<v;++p)d=t[p],s[d.index]=+i(d,p,t)}}function h(p){var v=0,d,m,y=0,b,N,_;if(p.length){for(b=N=_=0;_<4;++_)(d=p[_])&&(m=Math.abs(d.value))&&(v+=d.value,y+=m,b+=m*d.x,N+=m*d.y);p.x=b/y,p.y=N/y}else{d=p,d.x=d.data.x,d.y=d.data.y;do v+=s[d.data.index];while(d=d.next)}p.value=v}function x(p,v,d,m){if(!p.value)return!0;var y=p.x-e.x,b=p.y-e.y,N=m-v,_=y*y+b*b;if(N*N/c<_)return _<o&&(y===0&&(y=dt(n),_+=y*y),b===0&&(b=dt(n),_+=b*b),_<a&&(_=Math.sqrt(a*_)),e.vx+=y*p.value*r/_,e.vy+=b*p.value*r/_),!0;if(p.length||_>=o)return;(p.data!==e||p.next)&&(y===0&&(y=dt(n),_+=y*y),b===0&&(b=dt(n),_+=b*b),_<a&&(_=Math.sqrt(a*_)));do p.data!==e&&(N=s[p.data.index]*r/_,e.vx+=y*N,e.vy+=b*N);while(p=p.next)}return l.initialize=function(p,v){t=p,n=v,u()},l.strength=function(p){return arguments.length?(i=typeof p=="function"?p:z(+p),u(),l):i},l.distanceMin=function(p){return arguments.length?(a=p*p,l):Math.sqrt(a)},l.distanceMax=function(p){return arguments.length?(o=p*p,l):Math.sqrt(o)},l.theta=function(p){return arguments.length?(c=p*p,l):Math.sqrt(c)},l}function Ga(t){var e=z(.1),n,r,i;typeof t!="function"&&(t=z(t==null?0:+t));function s(o){for(var c=0,l=n.length,u;c<l;++c)u=n[c],u.vx+=(i[c]-u.x)*r[c]*o}function a(){if(n){var o,c=n.length;for(r=new Array(c),i=new Array(c),o=0;o<c;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(e=typeof o=="function"?o:z(+o),a(),s):e},s.x=function(o){return arguments.length?(t=typeof o=="function"?o:z(+o),a(),s):t},s}function Ja(t){var e=z(.1),n,r,i;typeof t!="function"&&(t=z(t==null?0:+t));function s(o){for(var c=0,l=n.length,u;c<l;++c)u=n[c],u.vy+=(i[c]-u.y)*r[c]*o}function a(){if(n){var o,c=n.length;for(r=new Array(c),i=new Array(c),o=0;o<c;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return s.initialize=function(o){n=o,a()},s.strength=function(o){return arguments.length?(e=typeof o=="function"?o:z(+o),a(),s):e},s.y=function(o){return arguments.length?(t=typeof o=="function"?o:z(+o),a(),s):t},s}function jt(t,e,n){this.k=t,this.x=e,this.y=n}jt.prototype={constructor:jt,scale:function(t){return t===1?this:new jt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jt.prototype;const Za=({data:t,maxBubbleSize:e=160,width:n=800,height:r=600,onBubbleClick:i})=>{const s=S.useRef(null),[a,o]=S.useState([]),c=S.useRef({x:n/2,y:r/2});return S.useEffect(()=>{var v;if(!t||t.length===0)return;const l=Math.max(...t.map(d=>d.count)),u=t.map(d=>({x:Math.random()*n,y:Math.random()*r,radius:d.count/l*(e/2)+20,data:d})),h=Ya(u).force("x",Ga(n/2).strength(.01)).force("y",Ja(r/2).strength(.01)).force("collision",Ba().radius(d=>d.radius+5).strength(.9).iterations(3)).force("charge",Wa().strength(-10).distanceMax(100)).velocityDecay(.2).alphaDecay(.005).on("tick",()=>{o([...u])});h.force("repelMouse",()=>{for(const d of u){const m=d.x-c.current.x,y=d.y-c.current.y,b=Math.sqrt(m*m+y*y),N=d.radius+120;if(b<N&&b>.1){const _=.8*Math.pow(1-b/N,1.2);d.vx=(d.vx||0)+m/b*_,d.vy=(d.vy||0)+y/b*_,h.alpha(.3)}}}),h.force("boundary",()=>{for(const d of u)d.x-d.radius<0&&(d.vx=Math.abs(d.vx||0)*.8,d.x=d.radius+1),d.x+d.radius>n&&(d.vx=-Math.abs(d.vx||0)*.8,d.x=n-d.radius-1),d.y-d.radius<0&&(d.vy=Math.abs(d.vy||0)*.8,d.y=d.radius+1),d.y+d.radius>r&&(d.vy=-Math.abs(d.vy||0)*.8,d.y=r-d.radius-1)});const x=d=>{var y;const m=(y=s.current)==null?void 0:y.getBoundingClientRect();m&&(c.current={x:d.clientX-m.left,y:d.clientY-m.top})};(v=s.current)==null||v.addEventListener("mousemove",x);const p=setInterval(()=>{h.alpha()<.1&&(u.forEach(d=>{d.vx=(d.vx||0)+(Math.random()-.5)*.5,d.vy=(d.vy||0)+(Math.random()-.5)*.5}),h.alpha(.2))},4e3);return()=>{var d;h.stop(),(d=s.current)==null||d.removeEventListener("mousemove",x),clearInterval(p)}},[t,e,n,r]),f.jsxs("svg",{ref:s,width:n,height:r,className:"bg-transparent rounded-lg mx-auto",children:[f.jsxs("defs",{children:[f.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"300%",height:"200%",children:f.jsx("feDropShadow",{dx:"0",dy:"3",stdDeviation:"4",floodColor:"#000",floodOpacity:"0.2"})}),f.jsxs("radialGradient",{id:"bubbleGradient",cx:"0.5",cy:"0.5",r:"0.5",fx:"0.25",fy:"0.25",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.6)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0)"})]})]}),a.map((l,u)=>f.jsxs("g",{transform:`translate(${l.x}, ${l.y})`,style:{transition:"transform 0.1s ease-out"},onClick:()=>l.data.hash&&i&&i(l.data.hash),className:l.data.hash&&i?"cursor-pointer":"",children:[f.jsx("circle",{r:l.radius,fill:l.data.color||"#6D28D9",filter:"url(#shadow)",style:{transition:"all 0.2s ease"}}),f.jsx("circle",{r:l.radius*.8,cx:-l.radius*.15,cy:-l.radius*.15,fill:"url(#bubbleGradient)",opacity:"0.4"}),f.jsx("text",{textAnchor:"middle",dy:"0.35em",fill:"#fff",fontSize:Math.min(14,l.radius/5+6),children:l.data.label})]},u))]})};function to(){const{data:t,isLoading:e,error:n,refetch:r}=Wt({queryKey:["hosted-users"],queryFn:async()=>{const o=await fetch("http://192.168.103.67:42069/hosted");if(!o.ok)throw new Error(`Failed to fetch hosted users: ${o.status}`);return o.json()}}),i=()=>{var u;if(!((u=t==null?void 0:t.users)!=null&&u.length))return[];const o=h=>{const x=h/1024;return x<1e3?x.toFixed(2)+" KB":(x/1024).toFixed(2)+" MB"},c=h=>h/(1024*1024),l=h=>{const x=["#4299E1","#48BB78","#ED8936","#9F7AEA","#F56565","#38B2AC","#ED64A6","#ECC94B"];return x[h%x.length]};return t.users.map((h,x)=>{const p=c(h.file_size);return{label:`${h.name} (${o(h.file_size)})`,count:p,color:l(x),hash:h.hash}})},s=o=>{window.open(`https://ipfs.io/ipfs/${o}`,"_blank")};if(e)return f.jsx("div",{className:"p-4 text-center text-gray-400",children:"Loading bubble chart data..."});if(n)return f.jsxs("div",{className:"p-4 text-center",children:[f.jsx("div",{className:"mb-6 p-3 bg-red-900/30 border border-red-700 rounded-md",children:f.jsx("p",{className:"text-red-400",children:n instanceof Error?n.message:"An error occurred"})}),f.jsx("button",{onClick:()=>r(),className:"px-4 py-2 text-sm bg-gray-800 text-gray-300 rounded-md hover:bg-gray-700",children:"Try Again"})]});const a=i();return f.jsxs("div",{className:"mt-8 bg-black p-6 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-300",children:"Hosted Users Visualization"}),f.jsx("button",{onClick:()=>r(),className:"px-4 py-2 text-sm bg-gray-800 text-gray-300 rounded-md hover:bg-gray-700",children:"Refresh"})]}),a.length>0?f.jsx(Za,{data:a,width:800,height:500,maxBubbleSize:120,onBubbleClick:s}):f.jsx("div",{className:"p-4 text-center text-gray-400",children:"No hosted users found to visualize."})]})}const cn=()=>f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Dashboard Overview"}),f.jsx(to,{})]}),Hn=S.memo(()=>{const[t,e]=S.useState(""),[n,r]=S.useState([]),[i,s]=S.useState(!1),a=S.useRef(null);S.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[n]);const o=async l=>{try{s(!0);const u=await fetch("http://192.168.103.67:42069/docker",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:l})}),h=await u.json();if(!u.ok)throw new Error(h.error||"Failed to execute command");r(x=>[...x,h.output])}catch(u){r(h=>[...h,`Error: ${u.message}`])}finally{s(!1)}},c=async l=>{if(l.key==="Enter"&&t.trim()&&!i){r(h=>[...h,`$ ${t}`]);const u=t.trim().toLowerCase();u==="clear"?r([]):await o(u),e("")}};return f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-300",children:"Docker CLI"}),f.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[f.jsxs("div",{ref:a,className:"h-40 overflow-y-auto mb-4 font-mono text-sm scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[n.map((l,u)=>f.jsx("div",{className:"text-gray-300 whitespace-pre-wrap",children:l},u)),i&&f.jsx("div",{className:"text-blue-400",children:"Executing command..."})]}),f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx("span",{className:"mr-2",children:"$"}),f.jsx("input",{type:"text",className:"bg-transparent border-none outline-none text-white flex-1 focus:ring-0",placeholder:"Enter docker command...",value:t,onChange:l=>e(l.target.value),onKeyDown:c,disabled:i})]}),f.jsxs("div",{className:"text-sm font-mono text-gray-400 mt-4",children:[f.jsx("p",{children:"Common commands:"}),f.jsx("p",{className:"mt-2",children:" docker ps - List running containers"}),f.jsx("p",{children:" docker start ipfs - Start IPFS container"}),f.jsx("p",{children:" docker stop ipfs - Stop IPFS container"}),f.jsx("p",{children:" docker logs ipfs - View IPFS logs"}),f.jsx("p",{children:" clear - Clear command history"})]})]})]})});Hn.displayName="DockerCLIComponent";const eo=()=>f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Docker CLI"}),f.jsx(Hn,{})]}),no=()=>f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Settings"}),f.jsxs("div",{className:"bg-black p-6 rounded-lg border border-gray-800",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-300",children:"Account Settings"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-300",children:"Notifications"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Manage your notification preferences"})]}),f.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Configure"})]}),f.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-300",children:"Privacy"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Control your privacy settings"})]}),f.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Manage"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-300",children:"Security"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Update your security preferences"})]}),f.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Review"})]})]})]})]});function ro(){const{data:t,isLoading:e,error:n,refetch:r}=Wt({queryKey:["node-count"],queryFn:async()=>{const i=await fetch("http://192.168.103.67:42069/nodes/count");if(!i.ok)throw new Error(`Failed to fetch node count: ${i.status}`);return i.json()}});return f.jsxs("div",{className:"bg-black p-4 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Total Nodes"}),f.jsx("button",{onClick:()=>r(),className:"px-2 py-1 text-xs bg-gray-800 text-gray-300 rounded-md hover:bg-gray-700",children:"Refresh"})]}),n?f.jsx("p",{className:"text-red-400 text-sm",children:n instanceof Error?n.message:"An error occurred"}):e?f.jsx("p",{className:"text-gray-400",children:"Loading..."}):f.jsx("p",{className:"text-3xl font-bold text-blue-400",children:(t==null?void 0:t.count)!==void 0?t.count:"-"})]})}function io(){var s;const{data:t,isLoading:e,error:n,refetch:r}=Wt({queryKey:["hosted-users"],queryFn:async()=>{const a=await fetch("http://192.168.103.67:42069/hosted");if(!a.ok)throw new Error(`Failed to fetch hosted users: ${a.status}`);return a.json()}}),i=a=>{const o=a/1024;return o<1e3?o.toFixed(2)+" KB":(o/1024).toFixed(2)+" MB"};return e?f.jsx("div",{className:"p-4 text-center text-gray-400",children:"Loading hosted users..."}):n?f.jsxs("div",{className:"p-4 text-center",children:[f.jsx("div",{className:"mb-6 p-3 bg-red-900/30 border border-red-700 rounded-md",children:f.jsx("p",{className:"text-red-400",children:n instanceof Error?n.message:"An error occurred"})}),f.jsx("button",{onClick:()=>r(),className:"px-4 py-2 text-sm bg-gray-800 text-gray-300 rounded-md hover:bg-gray-700",children:"Try Again"})]}):f.jsxs("div",{className:"mt-8 bg-black p-6 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-300",children:"Hosted Users"}),f.jsx("button",{onClick:()=>r(),className:"px-4 py-2 text-sm bg-gray-800 text-gray-300 rounded-md hover:bg-gray-700",children:"Refresh"})]}),(s=t==null?void 0:t.users)!=null&&s.length?f.jsx("div",{className:"grid gap-4",children:t.users.map((a,o)=>f.jsx("div",{className:"bg-gray-900 p-4 rounded-md border border-gray-800",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-medium text-white",children:a.name}),f.jsxs("p",{className:"text-gray-400 mt-1",children:["Node: ",a.node]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Hash: ",a.hash]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Size: ",i(a.file_size)]})]}),f.jsx("a",{href:`https://ipfs.io/ipfs/${a.hash}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"View"})]})},o))}):f.jsx("div",{className:"p-4 text-center text-gray-400",children:"No hosted users found"})]})}function so(){var G;const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(!1),[a,o]=S.useState(""),[c,l]=S.useState(null),u=_e(),{data:h,isLoading:x,error:p,refetch:v}=Wt({queryKey:["nodes"],queryFn:async()=>{const w=await fetch("http://192.168.103.67:42069/nodes");if(!w.ok)throw new Error(`Failed to fetch nodes: ${w.status}`);const C=await w.json();if(C.nodes){const R=await Promise.all(C.nodes.map(async E=>{try{const $=await fetch(`http://192.168.103.67:42069/nodes/${E.id}?usage=true`);if($.ok){const T=await $.json();return{...E,usage:T.usage}}return E}catch($){return console.error(`Error fetching usage for node ${E.id}:`,$),E}}));return{...C,nodes:R}}return C}}),d=ze({mutationFn:async w=>{const C=await fetch("http://192.168.103.67:42069/nodes",{method:"POST",body:w});if(!C.ok)throw new Error(`Failed to add node: ${C.status}`);return C.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["nodes"]}),s(!0),o(`IPFS Node "${t}" added successfully!`),e(""),r("")},onError:w=>{o(w instanceof Error?w.message:"Failed to add node")}}),m=ze({mutationFn:async w=>{const C=await fetch(`http://192.168.103.67:42069/nodes/${w}`,{method:"DELETE"});if(!C.ok)throw new Error(`Failed to delete node: ${C.status}`);return C.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["nodes"]})}}),y=w=>{try{const[C,R]=w.split(",").map(Number),E=Fe=>{if(Fe===0)return"0 Bytes";const te=Fe/1024;return te<1e3?te.toFixed(2)+" KB":(te/1024).toFixed(2)+" MB"},$=E(C),T=E(R);let U=0;return R>0&&(U=C/R*100),`${$} / ${T} (${U.toFixed(2)}%)`}catch(C){return console.error("Error parsing usage data:",C),w}},b=w=>e(w.target.value),N=w=>r(w.target.value),_=async w=>{w.preventDefault(),s(!1),o("");const C=new FormData;C.append("name",t),C.append("url",n),d.mutate(C)},F=async w=>{l(w);try{await m.mutateAsync(w)}finally{l(null)}};return f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Add IPFS Node"}),f.jsx("div",{className:"mb-6",children:f.jsx(ro,{})}),f.jsxs("div",{className:"bg-black p-6 rounded-lg border border-gray-800",children:[f.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-300",children:"Add New Node"}),i&&f.jsx("div",{className:"mb-6 p-3 bg-green-900/30 border border-green-700 rounded-md",children:f.jsx("p",{className:"text-green-400",children:a})}),d.isError&&f.jsx("div",{className:"mb-6 p-3 bg-red-900/30 border border-red-700 rounded-md",children:f.jsx("p",{className:"text-red-400",children:a})}),f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-300 mb-2",children:"Node Name"}),f.jsx("input",{type:"text",value:t,onChange:b,className:"w-full p-2 bg-gray-900 border border-gray-700 rounded-md text-white",placeholder:"e.g. ipfs",required:!0,disabled:d.isPending}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used as the Docker container name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-300 mb-2",children:"Node URL"}),f.jsx("input",{type:"text",value:n,onChange:N,className:"w-full p-2 bg-gray-900 border border-gray-700 rounded-md text-white",placeholder:"e.g. http://localhost:5001",required:!0,disabled:d.isPending}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The URL where the IPFS node is accessible"})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d.isPending,children:d.isPending?"Adding Node...":"Add Node"})})]})]}),f.jsxs("div",{className:"mt-8 bg-black p-6 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-300",children:"Available Nodes"}),f.jsx("button",{onClick:()=>v(),className:"px-4 py-2 text-sm bg-gray-800 text-gray-300 rounded-md hover:bg-gray-700",children:"Refresh"})]}),p&&f.jsx("div",{className:"mb-6 p-3 bg-red-900/30 border border-red-700 rounded-md",children:f.jsx("p",{className:"text-red-400",children:p instanceof Error?p.message:"An error occurred"})}),x?f.jsx("div",{className:"p-4 text-center text-gray-400",children:"Loading nodes..."}):(G=h==null?void 0:h.nodes)!=null&&G.length?f.jsx("div",{className:"grid gap-4",children:h.nodes.map(w=>f.jsx("div",{className:"bg-gray-900 p-4 rounded-md border border-gray-800",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-medium text-white",children:w.name}),f.jsx("p",{className:"text-gray-400 mt-1",children:w.url}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Type: ",w.type]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",w.id]}),w.usage&&f.jsx("div",{className:"mt-2",children:f.jsxs("p",{className:"text-xs text-gray-400",children:[f.jsx("span",{className:"font-semibold",children:"Storage:"})," ",y(w.usage)]})})]}),f.jsx("button",{onClick:()=>F(w.id),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:w.id==="0"||c===w.id||m.isPending,children:c===w.id?"Deleting...":"Delete"})]})},w.id))}):f.jsx("div",{className:"p-4 text-center text-gray-400",children:"No nodes available"})]}),f.jsx(io,{})]})}const co=function(){const[e,n]=S.useState(!1),[r,i]=S.useState("overview"),s=()=>{n(!e)},a=()=>{switch(r){case"overview":return f.jsx(cn,{});case"cli":return f.jsx(eo,{});case"create-node":return f.jsx(so,{});case"settings":return f.jsx(no,{});default:return f.jsx(cn,{})}};return f.jsxs("div",{className:"min-h-screen flex bg-black",children:[f.jsx("div",{className:`bg-black text-white w-64 fixed h-full transition-transform duration-300 ease-in-out border-r border-gray-800 ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Dashboard Menu"}),f.jsx("nav",{className:"mt-8",children:f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{className:`p-2 rounded cursor-pointer ${r==="overview"?"text-white":"hover:bg-gray-900"}`,onClick:()=>i("overview"),children:"Overview"}),f.jsx("li",{className:`p-2 rounded cursor-pointer ${r==="create-node"?"text-white":"hover:bg-gray-900"}`,onClick:()=>i("create-node"),children:"Add IPFS Node"}),f.jsx("li",{className:`p-2 rounded cursor-pointer ${r==="cli"?"text-white":"hover:bg-gray-900"}`,onClick:()=>i("cli"),children:"Docker CLI"}),f.jsx("li",{className:`p-2 rounded cursor-pointer ${r==="settings"?"text-white":"hover:bg-gray-900"}`,onClick:()=>i("settings"),children:"Settings"})]})})]})}),f.jsxs("div",{className:"flex-1 md:ml-64",children:[f.jsx("header",{className:"bg-black shadow-sm p-4 border-b border-gray-800",children:f.jsx("button",{onClick:s,className:"md:hidden p-2 rounded-md hover:bg-gray-900",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),f.jsx("main",{className:"p-8",children:a()})]})]})};export{co as component};
